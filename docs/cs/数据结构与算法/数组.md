# 一：数组的介绍

数组（Array）是一种线性表数据结构，它用`一组连续的内存空间`，来存储一组具有`相同类型`的数据。

数组(线性表)具有以下特点：

- 表中`元素有限`
- 表中元素有逻辑上的顺序性，在序列中各个元素的排列有`先后顺序`
- 表中每个元素的`数据类型都相同`，每个元素占用相同大小的存储空间

> 数组最强大的地方在于每个元素的数据类型相同，占用空间相同，因此可以做到随机访问：只要知道首元素地址空间，可以根据寻址公式计算出任意一个元素的位置。
>
> 但有利就有弊，这两个限制也让数组的很多操作变得非常低效，比如要想在数组中删除、插入一个数据，为了保证连续性，就需要做大量的数据搬移工作。

# 二：数组的常用操作

- init()：初始化数组，构造一个空的数组
- destory()：销毁数组
- findByValue(T value)：按值查找元素
- findByIndex(int index)：根据下标查找元素
- insert(T value,int index)：在指定位置插入元素
- insert(T value)：在末尾插入元素(优化插入速度)
- deleteByIndex(int index)：删除指定下标元素
- deleteByValue(T value)：根据值删除元素
- length()：返回数组长度，即元素个数
- empty()：判断数组是否为空
- print()：打印数组

# 三：数组的优化

### 3.1 插入与删除

按照原有流程，指定下标插入一个元素，为了保证数组的连续性，需要将后续的元素都往后搬移，时间复杂度O(N)。

针对这个问题，如果数组`不要求有序`，只是作为一个数据的集合，可以在插入的时候，将原来该位置的元素移动到末尾，然后将新的元素插入，即可O(1)实现元素的插入。

针对元素的删除操作同理，为了保证数组的连续性，需要将被删除元素后面的元素全部往前搬移一位，时间复杂度O(N)。

针对这个问题，可以采用同样的思路，用数组末尾的元素覆盖被删除的元素，然后数组的长度减一，如此即可O(1)实现元素的删除。

> 元素的删除采用尾元素覆盖的方式同样会导致顺序变化的问题，可以采用另外一种思路，删除元素时只做一个标记，不做真正的删除操作，当存储空间不够时再批量删除。

### 3.2 数组访问越界

在数组中很容易出现访问越界的问题，即数组中只有三个元素，但访问了数组的第四个位置。在C语言等可以直接操作内容的语言中，很容易出现一些操作到其他数据导致意想不到的bug，在Java中，针对数组的下标访问做了安全控制，数组越界时会抛出`java.lang.ArrayIndexOutOfBoundsException`。

### 3.3 数组与容器

相比数组，Java提供了很多封装好的容器，提供更加安全、简便的API供我们的调用，同时提供自动扩容机制，还采用里很多优化的操作，例如插入和删除等。那么相比容器，数组存在哪些优势？

- 容器只支持包装类型，当需要存储基本类型时，可以考虑采用数组，节省掉自动拆箱装箱的性能(很少)
- 当对数组的操作很简单时，不需要用到容器的自动扩容等机制，可以考虑使用数组
- 当表示多维数据时，数组可能比容器更加直观。

# 四：数组的实现

